<!DOCTYPE html>
<meta charset="utf-8"  content="width=device-width, initial-scale=1"/>
<title>WebSocket Test</title>
<head>
<script src="https://code.jquery.com/jquery.min.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="style.css"> 
</head>
 
<script language="javascript" type="text/javascript">

/**
 * ----------------------------------------------------------------------------
 * ESP32 ESP8266 Remote Control with WebSocket
 * ----------------------------------------------------------------------------
 * © 2020 Princiej, script adjusted from Stéphane Calderoni
 * ----------------------------------------------------------------------------
 */

var gateway = `ws://${window.location.hostname}/ws`;
var websocket;

console.log(gateway);

// ----------------------------------------------------------------------------
// Initialization
// ----------------------------------------------------------------------------

window.addEventListener('load', onLoad);

function onLoad(event) {
	var k = 0;
    initWebSocket();
//    initButton();
//	initSliders();

}

// ----------------------------------------------------------------------------
// WebSocket handling
// ----------------------------------------------------------------------------

function initWebSocket() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onopen    = onOpen;
    websocket.onclose   = onClose;
    websocket.onmessage = onMessage;
}

// Called when a WebSocket connection is established with the server

function onOpen(event) {
 
    // Log connection state
	document.getElementById("generalSettings").style.display = "block";
	document.getElementById("RGBSettings").style.display = "none";
	document.getElementById("cycleSettings").style.display = "block";
	document.getElementById("importantSettings").style.display = "block";
	document.getElementById("colorSettings").style.display = "none";
	document.getElementById("otherSettings").style.display = "none";
	document.getElementById("otherToggleSettings").style.display = "none";
	document.getElementById("waveSettings").style.display = "none";		
	document.getElementById("ledSettings").style.display = "none";
	document.getElementById("EEPROMcolorSettings").style.display = "none";
    console.log("Connected");
    k = 0;
    doSend("GETS"+k);
}
 
// Called when the WebSocket connection is closed
function onClose(event) {
    console.log('Connection closed');
    setTimeout(initWebSocket, 2000);
}

 
// Called when a message is received from the server
function onMessage(event) {
 
    // Print out our received message
    //console.log("Received: " + event.data);

	var string = event.data;
	if (string.charAt(0) == 0){
		var rawProgramName = event.data;
		var programName = rawProgramName.substr(1);
		document.getElementById("progn").innerHTML = programName;
		var firstFourChars = "xxxx";
		k = 0;
		//k = 32;
		doSend("GETS"+k);
		//console.log("sends program name");
	}	
	else if (string.charAt(0) == "G"){
		var prefixChars = "G";
		if (string.charAt(1) == 0){
			var rawProgramName = event.data;
			var programName = rawProgramName.substr(2);
			document.getElementById("progn").innerHTML = programName;
			var firstFourChars = "xxxx";
			}
		else {
			var newString = string.substr(1);
			var firstFourChars = newString.substring(0,4);
			var firstFiveChars = firstFourChars+"S";
			var residu = newString.slice(4, newString.length);
		}
	}
	else {
		var firstFourChars = string.substring(0,4);
		var firstFiveChars = firstFourChars+"S";
		var residu = string.slice(4, string.length);
//	console.log(residu);
	}

	if (firstFourChars.charAt(0) == "S"){
	document.getElementById(firstFourChars).value = residu;
	document.getElementById(firstFiveChars).innerHTML = residu;
    }
	
	
    else if (firstFourChars.charAt(0) == "T"){
		if (residu == 1){
		document.getElementById(firstFourChars).checked = true;
		}
		else if (residu == 0){
		document.getElementById(firstFourChars).checked = false;
//		console.log("does it check off");
		}
	}
	
	else if (firstFourChars.charAt(0) == "H"){
	document.getElementById(firstFiveChars).innerHTML = residu;
    }	

	if (prefixChars == "G"){
	k = k + 1;
	//console.log(k);
		if (k < 67){ //54
		setTimeout(function(){ doSend("GETS"+k); }, 20);
		}
		else if (k >= 67){ //54
		//k = 0;
		//doSend(k);
		//console.log(k);
		document.getElementById("TLSE").checked = false;
		//console.log("exit here");
		}
	}
}
 
// Sends a message to the server (and prints it to the console)
function doSend(message) {
	String(message);
    //console.log("Sending: " + message);
    websocket.send(message);
}

function updateSlider(fixedVariable, slideAmount){
	var fourChars = fixedVariable+"S";
	if (fixedVariable != "SLSP"){	
		document.getElementById(fourChars).innerHTML = slideAmount;
		doSend(fixedVariable+slideAmount)
	}
	else if (fixedVariable == "SLSP"){
		var adjustedSpeed = Math.trunc(Math.exp(slideAmount*0.14)*10);
		//console.log(adjustedSpeed);
		document.getElementById(fourChars).innerHTML = adjustedSpeed;
		doSend(fixedVariable+adjustedSpeed)
	}
}

function updateProgSlider(slideAmount){
	document.getElementById('SPGM').value = slideAmount;
	document.getElementById('SPGMS').innerHTML = slideAmount;
	doSend('SPGM'+slideAmount);
	}

function updateBriSSlider(slideAmount){
	document.getElementById('SBSM').value = slideAmount;
	document.getElementById('SBSMS').innerHTML = slideAmount;
	doSend('SBSM'+slideAmount);
	}	

function updateButton(fixedVariable) { 
	 if (document.getElementById(fixedVariable).checked == true){
		doSend(fixedVariable+1);
		if (fixedVariable == "TLSE"){
			//console.log("enter mode here STARTS ALL OVER");
			k = 0;
			doSend("GETS"+k);
		}
	}
	 else {
		doSend(fixedVariable+0);
	 }
	  
}

function changeColor(opt)
{
    document.getElementById("displaycolor").innerHTML = opt;
    // document.getElementById("displaycolor1").innerHTML = opt[0];
    doSend("SETT"+opt[0]);
	document.getElementById("reboot").innerHTML  = "reboot to activate";
    
}

function updateText() {
  document.getElementById("reboot").innerHTML  = "reboot to activate";
  doSend("ssid"+ssid.value);
  doSend("pass"+pass.value);
}

function updateNumLeds() {
  document.getElementById("HNUMS").innerHTML  = NUM_LEDS.value;
  doSend("SNLD"+NUM_LEDS.value);
}

function rebootSystem() {
doSend("BOOT");
}

function setTab(fixedVariable) {
  var x = document.getElementById(fixedVariable);
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
 
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

<script>
$(document).ready(function() {
    var interval = setInterval(function() {
        var momentNow = moment();
        $('#date-part').html(momentNow.format('YYYY MMMM DD') + ' '
                            + momentNow.format('dddd')
                             .substring(0,3).toUpperCase());
        $('#time-part').html(momentNow.format('HH:mm:ss'));
    }, 1000);
});
</script>
 
<body>
<h1>LED Control panel</h1>
<p class="infowindow">
<div class='time-frame'>
    <span id='date-part'></span>
    <span> &nbsp  / &nbsp  </span>
    <span id='time-part'></span>
</div>
</p>
<p class="infowindow">time to next effect: <span id='HCTIS'></span> &nbsp </span></p>
<p class="infowindow">time to colour change: <span id='HPTIS'></span> / <span id='HPTTS'></span> </span></p>
<hr/>
<p class="sliderwindow"> HUE, BRIGHTNESS AND SATURATION: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('generalSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="generalSettings">

</p>

<div class="slidecontainerx">
<div class="titlex">
_Hue Value (0-255):
</div>
<input id="SHUE" class="sliderhue" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SHUE', this.value)">
<div class="varvalueh"><span id="SHUES"></span> &nbsp | &nbsp   <span id="HY1OS"></span>>><span id="HY1NS"></span></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Bri Value (0-255) :
</div>
<input id="SBRI" class="sliderbri" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SBRI', this.value)">
<div class="varvaluex" id="SBRIS"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Sat Value (0-255) :
</div>
<input id="SSAT" class="slidersat" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SSAT', this.value)">
<div class="varvaluex" id="SSATS"></div><div class="infox"></div>
</div>
</div>

<p class="sliderwindow"> RGB mode: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('RGBSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="RGBSettings">

</p>

<div class="slidecontainerx">
<div class="titlex">
_RED (0-255):
</div>
<input id="SRED" class="sliderred" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SRED', this.value)">
<div class="varvaluex" id="SREDS"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_GREEN (0-255) :
</div>
<input id="SGRE" class="slidergreen" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SGRE', this.value)">
<div class="varvaluex" id="SGRES"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_BLUE (0-255) :
</div>
<input id="SBLU" class="sliderblues" type="range" min="0" max="255" step="1" value="128" onchange="updateSlider('SBLU', this.value)">
<div class="varvaluex" id="SBLUS"></div><div class="infox"></div>
</div>

<span class="titlez"> approximated HSV values:&nbsp &nbsp &nbsp &nbsp &nbsp Hue:<span id="HHHHS"></span> &nbsp Bri:<span id="HVVVS"></span> &nbsp Sat:<span id="HSSSS"></span>
</span>
<div class="switchcontainer">
update & display HSV values:
<label class="switch">
  <input type="checkbox" id="THSV" onclick="updateButton('THSV')"> 
  <span class="sliderround"></span>
</label>
</div>
</div>

<hr/>

<p class="sliderwindow"> CYCLE MODE SETTINGS: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('cycleSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="cycleSettings">

</p>
<div class="switchcontainer">
_Cycle
<label class="switch">
  <input type="checkbox" id="TCON" onclick="updateButton('TCON')"> 
  <span class="sliderround"></span>
</label>
_Fade
<label class="switch">
  <input type="checkbox" id="TCFA" onclick="updateButton('TCFA')"> 
  <span class="sliderround"></span>
</label>
_Random
<label class="switch">
  <input type="checkbox" id="TCRA" onclick="updateButton('TCRA')"> 
  <span class="sliderround"></span>
</label>
_Exclude
<label class="switch">
  <input type="checkbox" id="TCEX" onclick="updateButton('TCEX')"> 
  <span class="sliderround"></span>
</label>
_(de)activate
<label class="switch">
  <input type="checkbox" id="TCAC" onclick="updateButton('TCAC')"> 
  <span class="sliderround"></span>
</label>
EEPROM
<label class="switch">
  <input type="checkbox" id="TSTE" onclick="updateButton('TSTE')"> 
  <span class="sliderround"></span>
</label>
</div>
<br>
<div class="slidecontainerx">
<div class="titlex">
_Cycle time (s):
</div>
<input id="SCTM" class="sliderx" type="range" min="0" max="3600" step="60" value="600" onchange="updateSlider('SCTM', this.value)">
<div class="varvaluex" id="SCTMS"></div> <div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex">(seconds)</div>
  <div class="sliderticksx">
    <p>0</p>
    <p>300</p>
    <p>600</p>
    <p>900</p>
    <p>1200</p>
    <p></p>
	<p>1800</p>
    <p></p>
    <p></p>
    <p>2400</p>
    <p></p>
    <p></p>
	<p>3600</p>
  </div>
  <div class="varvaluex"></div><div class="infox"></div>
</div>
<br>
<div class="slidecontainerx">
	<div class="titlex">
	_Effect speedfactor:
	</div>
	<input id="SLPS" class="sliderx" type="range" min="25" max="400" step="25" value="100" onchange="updateSlider('SLPS', this.value)">
	<div class="varvalueh"><span id="SLPSS"></span> &nbsp /100</div>
	</div>
	<div class="slidecontainerx">
		<div class="titlex">(relative)</div>
	  <div class="sliderticksx">
		<p>0.25(fast)</p>
		<p>0.5</p>
		<p>0.75</p>
		<p>1(default)</p>
		<p></p>
		<p></p>
		<p></p>
		<p>2</p>
		<p></p>
		<p></p>
		<p></p>
		<p>3</p>
		<p></p>
		<p></p>
		<p></p>
		<p>4.0(slow)</p>	
	  </div>
	  <div class="varvaluex"></div><div class="infox"></div>  
	</div>
</div>
<hr/>

<p class="sliderwindows"> IMPORTANT PROGRAM MODES: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('importantSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="importantSettings">

</p> 
<div class="slidecontainerx">
<div class="titles">
<p class="progwindows"> <span id="progn"></span><span>  (prog: </span><span id="SPGMS">___</span><span>)</span></p>
</div>
<span class="titlez">
load settings
</span>
		<label class="switch2">
		  <input type="checkbox" id="TLSE" onclick="updateButton('TLSE')"> 
		  <span class="sliderround"></span>
		</label>
</div>


<div class="slidecontainerx">
<div class="titlex">
_Prog. Mode (0-37):
</div>
<input id="SPGM" class="sliderx" type="range" min="0" max="37" step="1" value="0" onchange="updateSlider('SPGM', this.value)">
<div class="varvaluex" id="SPGMS"></div><div class="infox">
<div class="dropdown">
  <button class="dropbtn">Modes:</button>
  <div class="dropdown-content">
    <li value="0"  onclick="updateProgSlider(this.value)">0: static_glow</li>
	<li value="1"  onclick="updateProgSlider(this.value)">1: varying_glow</li>
	<li value="2"  onclick="updateProgSlider(this.value)">2: warm_glow</li>
	<li value="3"  onclick="updateProgSlider(this.value)">3: reflection</li>
    <li value="4"  onclick="updateProgSlider(this.value)">4: deflection</li>
    <li value="5"  onclick="updateProgSlider(this.value)">5: coloursplash</li>
	<li value="6"  onclick="updateProgSlider(this.value)">6: palette</li>
	<li value="7"  onclick="updateProgSlider(this.value)">7: colourwash</li>
	<li value="8"  onclick="updateProgSlider(this.value)">8: rainbow_1</li>
    <li value="9"  onclick="updateProgSlider(this.value)">9: rainbow_2</li>
    <li value="10"  onclick="updateProgSlider(this.value)">10: rainbow_3</li>
    <li value="11"  onclick="updateProgSlider(this.value)">11: rainbow_4</li>
    <li value="12"  onclick="updateProgSlider(this.value)">12: rainbow_5</li>
	<li value="13"  onclick="updateProgSlider(this.value)">13: rainbow_6</li>
	<li value="14"  onclick="updateProgSlider(this.value)">14: rainbow_7</li>
	<li value="15"  onclick="updateProgSlider(this.value)">15: gradient</li>
    <li value="16"  onclick="updateProgSlider(this.value)">16: lucky7</li>
	<li value="17"  onclick="updateProgSlider(this.value)">17: goldstrike</li>	
	<li value="18"  onclick="updateProgSlider(this.value)">18: halcyon</li>
    <li value="19"  onclick="updateProgSlider(this.value)">19: snow_melt</li>
	<li value="20"  onclick="updateProgSlider(this.value)">20: snow_pile</li>
	<li value="21"  onclick="updateProgSlider(this.value)">21: snow_storm</li>
	<li value="22"  onclick="updateProgSlider(this.value)">22: snow_rainbow</li>
    <li value="23"  onclick="updateProgSlider(this.value)">23: sparkle</li>
    <li value="24"  onclick="updateProgSlider(this.value)">24: sparkle_storm</li>	
	<li value="25"  onclick="updateProgSlider(this.value)">25: sparkle_rainbow</li> 
    <li value="26"  onclick="updateProgSlider(this.value)">26: twinkle</li>	
    <li value="27"  onclick="updateProgSlider(this.value)">27: gambler</li>
    <li value="28"  onclick="updateProgSlider(this.value)">28: casino</li>
    <li value="29"  onclick="updateProgSlider(this.value)">29: fine_canvas</li>	
    <li value="30"  onclick="updateProgSlider(this.value)">30: rough_canvas</li>	
    <li value="31"  onclick="updateProgSlider(this.value)">31: xmas_1</li>
    <li value="32"  onclick="updateProgSlider(this.value)">32: xmas_2</li>
    <li value="33"  onclick="updateProgSlider(this.value)">33: xmas_3</li>
    <li value="34"  onclick="updateProgSlider(this.value)">34: splash</li>
	<li value="35"  onclick="updateProgSlider(this.value)">35: strobe</li>
	<li value="36"  onclick="updateProgSlider(this.value)">36: meteor</li>	
	<li value="37"  onclick="updateProgSlider(this.value)">37: RGBmode</li>
  </div>
</div>
</div>
</div>
<div class="slidecontainerx">
<div class="titlex"></div>
  <div class="sliderticksx">
    <p>0</p>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
	<p>6</p>
    <p>7</p>
    <p>8</p>
    <p>9</p>
    <p>10</p>
    <p>11</p>
	<p>12</p>
    <p>13</p>
    <p>14</p>
    <p>15</p>
    <p>16</p>
    <p>17</p>
	<p>18</p>
    <p>19</p>
    <p>20</p>
    <p>21</p>
    <p>22</p>
    <p>23</p>
	<p>24</p>
    <p>25</p>
    <p>26</p>
    <p>27</p>
    <p>28</p>
    <p>29</p>
	<p>30</p>
    <p>31</p>
    <p>32</p>
    <p>33</p>
	<p>34</p>
	<p>35</p>
	<p>36</p>
	<p>37</p>
  </div>
  <div class="varvaluex"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
	<div class="titlex">
	_BriSat preset (0-19):
	</div>
	<input id="SBSM" class="sliderx" type="range" min="0" max="19" step="1" value="0" onchange="updateSlider('SBSM', this.value)">
	<div class="varvaluex" id="SBSMS"></div><div class="infox">
		<div class="dropdown">
			<button class="dropbtn">Modes:</button>
			<div class="dropdown-content">
			  <li value="0"  onclick="updateBriSSlider(this.value)">0: EEPROM vals</li>
			  <li value="1"  onclick="updateBriSSlider(this.value)">1: basic glow_1</li>
			  <li value="2"  onclick="updateBriSSlider(this.value)">2: basic glow_2</li>
			  <li value="3"  onclick="updateBriSSlider(this.value)">3: misty_1</li>
			  <li value="4"  onclick="updateBriSSlider(this.value)">4: misty_2</li>
			  <li value="5"  onclick="updateBriSSlider(this.value)">5: misty_3</li>
			  <li value="6"  onclick="updateBriSSlider(this.value)">6: misty_4</li>	
			  <li value="7"  onclick="updateBriSSlider(this.value)">7: S_twinkle_bsl</li>	
			  <li value="8"  onclick="updateBriSSlider(this.value)">8: S_twinkle_b</li>	
			  <li value="9"  onclick="updateBriSSlider(this.value)">9: spark_1</li>
			  <li value="10"  onclick="updateBriSSlider(this.value)">10: spark_2</li>
			  <li value="11"  onclick="updateBriSSlider(this.value)">11: spark_3</li>
			  <li value="12"  onclick="updateBriSSlider(this.value)">12: long_wave</li>
			  <li value="13"  onclick="updateBriSSlider(this.value)">13: diamond_1</li>
			  <li value="14"  onclick="updateBriSSlider(this.value)">14: diamond_2 (Df)</li>
			  <li value="15"  onclick="updateBriSSlider(this.value)">15: diamond_3</li>
			  <li value="16"  onclick="updateBriSSlider(this.value)">16: F_twinkle_bsl</li>
			  <li value="17"  onclick="updateBriSSlider(this.value)">17: M_twinkle</li>
			  <li value="18"  onclick="updateBriSSlider(this.value)">18: F_twinkle_s</li>
			  <li value="19"  onclick="updateBriSSlider(this.value)">19: F_twinkle_fc</li>
			  <li value="20"  onclick="updateBriSSlider(this.value)">20: default</li>
			</div>
		  </div>
		  </div>
</div>	
<div class="slidecontainerx">
	<div class="titlex"></div>
	  <div class="sliderticksx">
		<p>0</p>	  
		<p>1</p>
		<p>2</p>
		<p>3</p>
		<p>4</p>
		<p>5</p>
		<p>6</p>
		<p>7</p>
		<p>8</p>	
		<p>9</p>
		<p>10</p>
		<p>11</p>
		<p>12</p>
		<p>13</p>
		<p>14</p>	
		<p>15</p>
		<p>16</p>
		<p>17</p>
		<p>18</p>
		<p>19</p>
		<p>20</p>	
	  </div>
	  <div class="varvaluex"></div><div class="infox"></div>
	</div>

<div class="slidecontainerx">
<div class="titlex">
Color Mode (0-5):
</div>
<input id="SCOM" class="sliderx" type="range" min="0" max="5" step="1" value="2" onchange="updateSlider('SCOM', this.value)">
<div class="varvaluex" id="SCOMS"></div><div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex"></div>
  <div class="sliderticksEmptyx">
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>	
  </div>
  <div class="varvaluex"></div><div class="infox"></div>  
</div>

<div class="slidecontainerx">
<div class="titlex">
_Add.modeVar(0-2):
</div>
<input id="SVAR" class="sliderx" type="range" min="0" max="2" step="1" value="1" onchange="updateSlider('SVAR', this.value)">
<div class="varvaluex" id="SVARS"></div><div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex">

</div>
  <div class="sliderticksEmptyx">
    <p></p>
    <p></p>
    <p></p>
  </div>
  <div class="varvaluex"></div><div class="infox"></div>  
</div>
<div class="slidecontainerx">
	<div class="titlex">
	Preset speed (ms):
	</div>
	<input id="SLSP" class="sliderx" type="range" min="0" max="60" step="1" value="10" onchange="updateSlider('SLSP', this.value)">
	<div class="varvalueh"><span id="SLSPS"></span> &nbsp | &nbsp  <span id='HSPES'></span></div>
</div>
</div>
<hr/>

<p class="sliderwindow"> ADDITIONAL COLOR SETTINGS: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('colorSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="colorSettings">
<p>

<div class="slidecontainerx">
<div class="titlex">
Color Array (0-58):
</div>
<input id="SCAR" class="sliderx" type="range" min="0" max="58" step="1" value="8" onchange="updateSlider('SCAR', this.value)">
<div class="varvaluex"><span  id="SCARS"></span></div> <div class="infox">CM 4</div>
</div>

<div class="slidecontainerx">
<div class="titlex">
FastLED.Palet (20):
</div>
<input id="SPAL" class="sliderx" type="range" min="0" max="20" step="1" value="2" onchange="updateSlider('SPAL', this.value)">
<div class="varvaluex" id="SPALS"></div> <div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
Prog.Gradient (14):
</div>
<input id="SGRA" class="sliderx" type="range" min="0" max="14" step="1" value="0" onchange="updateSlider('SGRA', this.value)">
<div class="varvaluex" id="SGRAS"></div> <div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
Num_colors (1-15):
</div>
<input id="SNCO" class="sliderx" type="range" min="0" max="15" step="1" value="0" onchange="updateSlider('SNCO', this.value)">
<div class="varvaluex" id="SNCOS"></div> <div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
ColorLength (1-50):
</div>
<input id="SNCL" class="sliderx" type="range" min="0" max="50" step="1" value="10" onchange="updateSlider('SNCL', this.value)">
<div class="varvaluex" id="SNCLS"></div> <div class="infox"></div>
</div>
<hr/>
<p class="sliderwindowsmall"> VARIOUS (EEPROM STORED) COLOR SETTINGS:

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1O1" onclick="setTab('EEPROMcolorSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="EEPROMcolorSettings">

</p>	

<p class="infowindow">y-red: <span id="SRMIS"></span>-<span id="SRMAS"></span> &nbsp &nbsp &nbsp y-green: <span id="SGMIS"></span>-<span id="SGMAS"></span> &nbsp &nbsp &nbsp  y-blue: <span id="SBMIS"></span>-<span id="SBMAS"></span>
</p>	
<div class="slidecontainerx">
<div class="titlex">
_gaps xmas modes:
</div>
<section class="range-slider">
  <span class="rangeValues"></span>
  <input id="SRMI" value="245" min="0" max="255" step="1" type="range" class="sliderpink" onchange="updateSlider('SRMI', this.value)">
  <input id="SRMA" value="10" min="0" max="255" step="1" type="range" class="sliderorange" onchange="updateSlider('SRMA', this.value)">
  <input id="SGMI" value="55" min="0" max="255" step="1" type="range" class="sliderlemon" onchange="updateSlider('SGMI', this.value)">
  <input id="SGMA" value="115" min="0" max="255" step="1" type="range" class="slideraqua" onchange="updateSlider('SGMA', this.value)">
  <input id="SBMI" value="145" min="0" max="255" step="1" type="range" class="sliderblue" onchange="updateSlider('SBMI', this.value)">
  <input id="SBMA" value="180" min="0" max="255" step="1" type="range" class="sliderpurple" onchange="updateSlider('SBMA', this.value)">  
</section>
</div>

<!-- This block can be reused as many times as needed -->
<p class="infowindow">gap1: <span id="SYMIS"></span>-<span id="SYMAS"></span> &nbsp &nbsp &nbsp  gap2: <span id="SMI1S"></span>-<span id="SMA1S"></span>
</p>
<div class="slidecontainerx">
<div class="titlex">
_gaps CM 2&3:
</div>
<!-- This block can be reused as many times as needed -->
<section class="range-slider1">
  <span class="rangeValues1"></span>
  <input id="SYMI" value="42" min="0" max="255" step="1" type="range" class="sliderorange" onchange="updateSlider('SYMI', this.value)">
  <input id="SYMA" value="84" min="0" max="255" step="1" type="range" class="sliderpink" onchange="updateSlider('SYMA', this.value)">  
  <input id="SMI1" value="82" min="0" max="255" step="1" type="range" class="sliderlemon" onchange="updateSlider('SMI1', this.value)">
  <input id="SMA1" value="206" min="0" max="255" step="1" type="range" class="slideraqua" onchange="updateSlider('SMA1', this.value)">  
</section>
</div>

<p class="infowindow">span rainbow_3: <span id="SMI2S"></span>-<span id="SMA2S"></span>
</p>
<div class="slidecontainerx">
<div class="titlex">
_mode 10:
</div>
<!-- This block can be reused as many times as needed -->
<section class="range-slider3">
  <span class="rangeValues3"></span>
  <input id="SMI2" value="130" min="0" max="255" step="1" type="range" class="sliderorange" onchange="updateSlider('SMI2', this.value)">  
  <input id="SMA2" value="42" min="0" max="255" step="1" type="range" class="sliderpink" onchange="updateSlider('SMA2', this.value)">
</section>
</div>

<p class="infowindow">span rainbow_7: <span id="SMI3S"></span>-<span id="SMA3S"></span>&nbsp &nbsp &nbsp <span class="textinfo">range: </span> <span class="textinfo" id="SM3RS"></span>
</p>
<div class="slidecontainerx">
<div class="titlex">
_mode 14: 
</div>
<!-- This block can be reused as many times as needed -->
<section class="range-slider2">
  <span class="rangeValues2"></span>
  <input id="SMI3" value="130" min="0" max="255" step="1" type="range" class="sliderorange" onchange="updateSlider('SMI3', this.value)">  
  <input id="SMA3" value="190" min="0" max="255" step="1" type="range" class="sliderpink" onchange="updateSlider('SMA3', this.value)">
  <input id="SM3R" value="90" min="0" max="255" step="1" type="range" class="sliderhue" onchange="updateSlider('SM3R', this.value)">
</section>
</div>

<p class="infowindow">span gradient: <span id="SMI4S"></span>-<span id="SMA4S"></span>
</p>
<div class="slidecontainerx">
<div class="titlex">
_mode 15 (&22, 25):
</div>
<!-- This block can be reused as many times as needed -->
<section class="range-slider3">
  <span class="rangeValues3"></span>
  <input id="SMI4" value="0" min="0" max="255" step="1" type="range" class="sliderorange" onchange="updateSlider('SMI4', this.value)">  
  <input id="SMA4" value="40" min="0" max="255" step="1" type="range" class="sliderpink" onchange="updateSlider('SMA4', this.value)">
</section>
</div>	
</div>
</div>
<hr/>

<p class="sliderwindow"> ADDITIONAL OTHER SETTINGS: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('otherSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="otherSettings">

</p>
<div class="slidecontainerx">
<div class="titlex">
Num_spark (0-30):
</div>
<input id="SNSP" class="sliderx" type="range" min="1" max="30" step="1" value="20" onchange="updateSlider('SNSP', this.value)">
<div class="varvaluex" id="SNSPS"></div> <div class="infox">(21)</div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Spark_bri (0-255):
</div>
<input id="SSBR" class="sliderx" type="range" min="0" max="255" step="1" value="0" onchange="updateSlider('SSBR', this.value)">
<div class="varvaluex" id="SSBRS"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Spark_sat (0-255):
</div>
<input id="SSSF" class="sliderx" type="range" min="0" max="255" step="1" value="0" onchange="updateSlider('SSSF', this.value)">
<div class="varvaluex" id="SSSFS"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Spark_color (0-255):
</div>
<input id="SSCO" class="sliderx" type="range" min="0" max="255" step="1" value="0" onchange="updateSlider('SSCO', this.value)">
<div class="varvaluex" id="SSCOS"></div> <div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
LED_dif (0-255):
</div>
<input id="SDIF" class="sliderx" type="range" min="1" max="255" step="1" value="7" onchange="updateSlider('SDIF', this.value)">
<div class="varvaluex" id="SDIFS"></div> <div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
Add.offset (1-15):
</div>
<input id="SOFF" class="sliderx" type="range" min="1" max="15" step="1" value="7" onchange="updateSlider('SOFF', this.value)">
<div class="varvaluex" id="SOFFS"></div> <div class="infox"></div>
</div>
</div>

<hr/>
<p class="sliderwindow"> ADDITIONAL TOGGLES: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('otherToggleSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="otherToggleSettings">

<p>

<div class="switchcontainer">
Glitter
<label class="switch">
  <input type="checkbox" id="TGLI" onclick="updateButton('TGLI')"> 
  <span class="sliderround"></span>
</label>
Rainbow (mode 16-18)
<label class="switch">
  <input type="checkbox" id="TRBO" onclick="updateButton('TRBO')"> 
  <span class="sliderround"></span> 
</label>
Reverse (mode 16-18)
<label class="switch">
  <input type="checkbox" id="TRVO" onclick="updateButton('TRVO')"> 
  <span class="sliderround"></span> 
</label>
white (mode 29)
<label class="switch">
  <input type="checkbox" id="TWHO" onclick="updateButton('TWHO')"> 
  <span class="sliderround"></span> 
</label>
direction
<label class="switch">
  <input type="checkbox" id="TDIR" onclick="updateButton('TDIR')"> 
  <span class="sliderround"></span>
</label>
_Tower
<label class="switch">
  <input type="checkbox" id="TTWO" onclick="updateButton('TTWO')"> 
  <span class="sliderround"></span>
</label>
_Bees
<label class="switch">
  <input type="checkbox" id="TBEE" onclick="updateButton('TBEE')"> 
  <span class="sliderround"></span>
</label>
</div>
</div>

<hr/>
<p class="sliderwindow"> ADVANCED WAVEFORM SETTINGS: 

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1M1" onclick="setTab('waveSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="waveSettings">

<p>

<p class="sliderwindow"> BRIGHTNESS:</p>
<div class="slidecontainerx">
	<div class="titlex">
	_Glow Mode (0-7):
	</div>
	<input id="SGLO" class="sliderx" type="range" min="0" max="7" step="1" value="0" onchange="updateSlider('SGLO', this.value)">
	<div class="varvaluex" id="SGLOS"></div><div class="infox">
	<div class="dropdown">
		<button class="dropbtn">info list:</button>
		<div class="dropdown-content">
		  <li value="0">0: static</li>
		  <li value="1">1: fixed glow</li>
		  <li value="2">2: variable glow</li>
		  <li value="3">3: twinkle</li>
		  <li value="4">4: dimmed wave</li>
		  <li value="5">5: offset glow</li>
		  <li value="6">6: half wave</li>	
		  <li value="7">7: full wave</li>
		</div>
	  </div>
	</div>
</div>
	
	<div class="slidecontainerx">
	<div class="titlex">
	</div>
	  <div class="sliderticksEmptyx">
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		<p></p>	
	  </div>
	  <div class="varvaluex"></div><div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex">
_Num_brigh (0-32): 
</div>
<input id="SNBR" class="sliderx" type="range" min="1" max="32" step="1" value="11" onchange="updateSlider('SNBR', this.value)">
<div class="varvaluex" id="SNBRS"></div><div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex">
_Offset_brigh (1-175): 
</div>
<input id="SOBR" class="sliderx" type="range" min="1" max="175" step="1" value="30" onchange="updateSlider('SOBR', this.value)">
<div class="varvaluex" id="SOBRS"></div><div class="infox"></div>
</div>
<br>
<div class="slidecontainerx">
<div class="titlex">
_Wave time(Sec) (br):
</div>
<input id="SBWS" class="sliderx" type="range" min="1000" max="30000" step="1000" value="2000" onchange="updateSlider('SBWS', this.value)">
<div class="varvaluex" id="SBWSS"></div> <div class="infox"></div>
</div>
<div class="slidecontainerx">
	<div class="titlex">
	</div>
  <div class="sliderticksx">
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
    <p>6</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p>12</p>
	<p></p>	
	<p></p>
	<p>15</p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p>20</p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>
	<p>30</p>	
  </div>
  <div class="varvaluex"></div><div class="infox"></div>
</div>

<div class="slidecontainerx">
<div class="titlex">
_Wave BPM(br):
</div>
<input id="SSBS" class="sliderx" type="range" min="2" max="60" step="1" value="30" onchange="updateSlider('SSBS', this.value)">
<div class="varvaluex" id="SSBSS"></div> <div class="infox"></div>
</div>
<div class="slidecontainerx">
	<div class="titlex">
	</div>
  <div class="sliderticksx">
    <p>2</p>
	<p>3</p>
	<p>4</p>
	<p>5</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>	
	<p>10</p>
	<p></p>
    <p>12</p>
	<p></p>
	<p></p>
	<p>15</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p>20</p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>	
    <p>30</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p>60</p>		
  </div>
  <div class="varvaluex"></div><div class="infox"></div>  
</div>
<br>
<p class="sliderwindow"> SATURATION:</P>
<div class="slidecontainerx">
		<div class="titlex">
		_Sat Mode (0-7):
		</div>
		<input id="SSTM" class="sliderx" type="range" min="0" max="7" step="1" value="0" onchange="updateSlider('SSTM', this.value)">
		<div class="varvaluex" id="SSTMS"></div><div class="infox">
		<div class="dropdown">
			<button class="dropbtn">info list:</button>
			<div class="dropdown-content">
			  <li value="0">0: static</li>
			  <li value="1">1: fixed glow</li>
			  <li value="2">2: variable glow</li>
			  <li value="3">3: twinkle</li>
			  <li value="4">4: dimmed wave</li>
			  <li value="5">5: offset glow</li>
			  <li value="6">6: half wave</li>	
			  <li value="7">7: full wave</li>
			</div>
		  </div>
		</div>
	</div>
		
		<div class="slidecontainerx">
		<div class="titlex">
		</div>
		  <div class="sliderticksEmptyx">
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>	
		  </div>
		<div class="varvaluex"></div><div class="infox"></div>  
</div>	
<div class="slidecontainerx">
<div class="titlex">
_Num_sat (0-32): 
</div>
<input id="SSTN" class="sliderx" type="range" min="1" max="32" step="1" value="13" onchange="updateSlider('SSTN', this.value)">
<div class="varvaluex" id="SSTNS"></div><div class="infox"></div>
</div>
<div class="slidecontainerx">
<div class="titlex">
_Offset_sat (1-175): 
</div>
<input id="SOST" class="sliderx" type="range" min="1" max="175" step="1" value="50" onchange="updateSlider('SOST', this.value)">
<div class="varvaluex" id="SOSTS"></div><div class="infox"></div>
</div>
<br>

<div class="slidecontainerx">
<div class="titlex">
_Wave time(Sec) (sat):
</div>
<input id="SSWS" class="sliderx" type="range" min="1000" max="30000" step="1000" value="2000" onchange="updateSlider('SSWS', this.value)">
<div class="varvaluex" id="SSWSS"></div> <div class="infox"></div>
</div>
<div class="slidecontainerx">
	<div class="titlex">
	</div>
  <div class="sliderticksx">
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
    <p>6</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p>12</p>
	<p></p>	
	<p></p>
	<p>15</p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p>20</p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>
	<p>30</p>
  </div>
  <div class="varvaluex"></div><div class="infox"></div>  
</div>

<div class="slidecontainerx">
<div class="titlex">
_Wave BPM(sat):
</div>
<input id="SSSS" class="sliderx" type="range" min="2" max="60" step="1" value="30" onchange="updateSlider('SSSS', this.value)">
<div class="varvaluex" id="SSSSS"></div> <div class="infox"></div>
</div>
<div class="slidecontainerx">
	<div class="titlex">
	</div>
  <div class="sliderticksx">
    <p>2</p>
	<p>3</p>
	<p>4</p>
	<p>5</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>	
	<p>10</p>
	<p></p>
    <p>12</p>
	<p></p>
	<p></p>
	<p>15</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p>20</p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>	
    <p>30</p>
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p></p>	
	<p></p>
	<p></p>
	<p></p>	
	<p></p>
	<p>60</p>		
  </div>
  <div class="varvaluex"></div><div class="infox"></div>  
</div>
<br>
<div class="switchcontainer">
Maintain complete waveforms
<label class="switch">
  <input type="checkbox" id="TMWF" onclick="updateButton('TMWF')"> 
  <span class="sliderround"></span>
</label>
</div>
</div>

<hr/>
<p class="sliderwindow"> LED (SYSTEM) SETTINGS:

	<span id="checkbox1">
	<input class="ckeckbox-element" type="checkbox" id="1N1" onclick="setTab('ledSettings')"/>  
	<i class="glyphicon glyphicon-menu-down"></i>
	</span> 

	<div id="ledSettings">

</P>
<p class="sliderwindow"> 
<span class="textinfo">NUM_LEDS (1-600):</span> <span class="inputparam"> <input type="number" id="NUM_LEDS" max="600" min="1" value=""></span> &nbsp
<span class="textinfo" id="HNUMS">___</span> &nbsp
<span class="inputparam"> <button onclick="updateNumLeds()">submit</button>	</span> &nbsp
</p>
<br>
<p class="sliderwindow"> 
<span class="textinfo"> color order: </span> &nbsp 
<span class="inputparam">
<select onchange="changeColor(this.value)">
    <option value="0. RGB">RGB</option>
    <option value="1. GRB">GRB</option>
    <option value="2. BRG">BRG</option>
    <option value="3. BGR">BGR</option>
    <option value="4. RBG">RBG</option>
    <option value="5. GBR">GBR</option>
</select>
</span>&nbsp
<span class="textinfo" id="displaycolor">___</span> 
</p>
<br>
<p class="sliderwindow"> 
<span class="textinfo"> ssid:</span> <span class="inputparam"> <input type="text" id="ssid" value=""></span> <span class="textinfo" id="HSIDS">___</span> &nbsp </span>
<span class="textinfo"> password: </span> <span class="inputparam"> <input type="text" id="pass" value=""></span> <span class="textinfo" id="HPASS">___</span> &nbsp <span class="inputparam"> <button onclick="updateText()">submit</button> </span>
</p>
<br>
<p class="sliderwindow"> 
<span class="textinfo"> <span id="reboot"></span></span>&nbsp
<span class="inputparam"> <button onclick="rebootSystem()">reboot</button></span>
</p>
<br>
<hr/>
<p class="sliderwindow">SPECIAL EEPROM FUNCTIONS</P>
<br>
<div class="switchcontainer">
Save All settings to EEPROM
<label class="switch">
  <input type="checkbox" id="TSET" onclick="updateButton('TSET')"> 
  <span class="sliderround"></span>
</label>
</div>
<div class="switchcontainer">
ACTIVATE all presets in EEPROM
<label class="switch">
  <input type="checkbox" id="TAAM" onclick="updateButton('TAAM')"> 
  <span class="sliderround"></span>
</label>
DEACTIVATE all presets in EEPROM
<label class="switch">
  <input type="checkbox" id="TDAM" onclick="updateButton('TDAM')"> 
  <span class="sliderround"></span>
</label>
</div>


</div>

<hr/>
</body>